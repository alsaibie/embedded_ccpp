<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/embedded_ccpp/libs/highlight/github.min.css"> <link rel=stylesheet  href="/embedded_ccpp/css/franklin.css"> <link rel=stylesheet  href="/embedded_ccpp/css/poole_hyde.css"> <link rel=stylesheet  href="/embedded_ccpp/css/custom.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 968px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/embedded_ccpp/assets/c.svg"> <title>I Fundamentals - Introduction</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <br> <img src="/embedded_ccpp/assets/KuwaitUniversityLogoTextLight.svg" style="width: 200px; height: auto; display: inline"> <h1 style="font-size:2em; opacity: 0.75;"><a href="/embedded_ccpp/">C/C++</a></h1> <p class=lead >Embedded C/C++</p> </div> <script> function hidePart(part_div) { var x = document.getElementById(part_div); if (x.style.display === "none") { x.style.display = "block"; } else { x.style.display = "none"; } } </script> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/embedded_ccpp/">Home</a> <a class="sidebar-nav-item " href="https://alsaibie.github.io/me319">ME319 Mechatronics Course</a> <br> <small style="text-transform: uppercase; font-size: 0.75em">Lessons</small> <div class=part  onclick="hidePart('part1_div')">Fundamentals</div> <div id=part1_div  style="display:none;"> <a class="sidebar-nav-item active" href="/embedded_ccpp/part_i/lesson1/"><b>L1</b> <em>Introduction</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson2/"><b>L2</b> <em>File and Program Structure</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson3/"><b>L3</b> <em>Data Types</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson4/"><b>L4</b> <em>Variables</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson5/"><b>L5</b> <em>Arrays</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson6/"><b>L6</b> <em>Type Qualifiers and Storage Specifiers</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson7/"><b>L7</b> <em>Operations</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson8/"><b>L8</b> <em>Control Structures</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson9/"><b>L9</b> <em>Functions</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson10/"><b>L10</b> <em>Pointers and References</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson11/"><b>L11</b> <em>Structs</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson12/"><b>L12</b> <em>Classes</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson13/"><b>L13</b> <em>Strings</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson14/"><b>L14</b> <em>Preprocessor Directives</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson15/"><b>L15</b> <em>Standard Library</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson16/"><b>L16</b> <em>C/C++ Process Flow</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson17/"><b>L17</b> <em>Debugging</em></a> </div> <div class=part  onclick="hidePart('part2_div')">Embedded Applications</div> <div id=part2_div  style="display:none;"> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson1/"><b>L1</b> <em>Event-Drive Programming</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson2/"><b>L2</b> <em>Threads</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson3/"><b>L3</b> <em>Interrupts</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson3/"><b>L4</b> <em>Scheduling</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson3/"><b>L5</b> <em>Real-Time Control</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson3/"><b>L6</b> <em>Filters and Digital Controllers</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson3/"><b>L7</b> <em>Object-Oriented Device Libraries</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_ii/lesson3/"><b>L8</b> <em>State-Machine</em></a> </div> <div class=part  onclick="hidePart('part3_div')">Code Optimization</div> <div id=part3_div  style="display:none;"> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson1/"><b>L1</b> <em>Variable Sizes</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson2/"><b>L2</b> <em>Probabilistic Priority</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson3/"><b>L3</b> <em>Jumps and Branches</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson4/"><b>L4</b> <em>Loop Jamming</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson4/"><b>L5</b> <em>Integer vs. Floating Point Math</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson4/"><b>L6</b> <em>Pass by Reference</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iii/lesson4/"><b>L7</b> <em>Reduce Expensive Math</em></a> </div> <div class=part  onclick="hidePart('part4_div')">Arduino API</div> <div id=part4_div  style="display:none;"> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iv/lesson1/"><b>L1</b> <em>Overview</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iv/lesson2/"><b>L2</b> <em>Program Structure</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iv/lesson3/"><b>L3</b> <em>Blinky Example</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iv/lesson4/"><b>L4</b> <em>Input Output Example</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iv/lesson5/"><b>L5</b> <em>Arduino Library</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_iv/lesson6/"><b>L6</b> <em>Custom Library</em></a> </div> </nav> <p>&copy; Ali AlSaibie, PhD.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=why_cc ><a href="#why_cc" class=header-anchor >Why C/C&#43;&#43;?</a></h1> <h2 id=they_dominate_the_embedded_world ><a href="#they_dominate_the_embedded_world" class=header-anchor >They dominate the embedded world</a></h2> <p>In the embedded world C and C&#43;&#43; are still the dominant languages. They are here to stay for the foreseeable future. </p> <p>And you would ask: we were taught to use MATLAB or Python in our numerical methods classes, can’t we use these languages in robotics, mechatronics or control applications?</p> <p>Technically we can in some ways. It is not impossible, and there are sets of tools that attempt to do just that, but it is not widely practiced in industry. Python and MATLAB are interactive scripting languages, they require a virtual machine, an operating system basically, to run in the background.</p> <h2 id=python-based_frameworks ><a href="#python-based_frameworks" class=header-anchor >Python-based frameworks</a></h2> <p>There are, however, increasing efforts to introduce Python-based frameworks for teaching microcontroller programming, such as <a href="https://micropython.org/">Micro-Python</a> and <a href="https://circuitpython.org/">Circuit-Python</a> and it could be arguable whether it is ready to be used for college-level courses, but they are definitely worth considering for hobbyists and K-12 courses. </p> <h2 id=cc_are_closer_to_the_metal ><a href="#cc_are_closer_to_the_metal" class=header-anchor >C/C&#43;&#43; are closer to the metal </a></h2> <p>C/C&#43;&#43; are compiled languages. They are low level languages. Think of low-level languages as ones closer to the language the machine speaks in, or “machine language”. C/C&#43;&#43; compilers map code directly to assembly language, which in turn map to machine code. </p> <p>Just a reminder, there is no such thing as an Arduino language. Arduino is a framework written in C/C&#43;&#43;. To proficiently use the Arduino ecosystem, a good working knowledge of C/C&#43;&#43; is a must. </p> <p>Not having to use a &quot;virtual machine&quot;, means there is much less overhead. And by overhead we refer to additional resources, that both affect code size and speed of execution &#40;well, code size and speed of execution are closely related&#41;. </p> <h2 id=machine_code_vs_assembly_vs_cc ><a href="#machine_code_vs_assembly_vs_cc" class=header-anchor >Machine Code vs. Assembly vs. C/C&#43;&#43;</a></h2> <p>In the early days of computers, they were programmed using machine code. Machine code is composed of 1’s and 0’s, then came a human readable machine code language called Assembly Language. </p> <p>Assembly language provides a set of instruction symbols for each of the possible instructions available on a specific machine. An assembly language programmer has to form the code logic using the set of instructions available, which can be different from one CPU architecture and family to another. So, portability of assembly code is not straight forward. And this was an issue.</p> <p>Assembly was used in microcontroller programming for a long time, and is still used today, but, to a lesser degree. This is primarily due to the increasing capacity of modern computers &#40;memory is cheap, transistors are small&#41;. </p> <p>With C/C&#43;&#43;, the code becomes much more portable, since compilers take off the load of mapping the code to the specific assembly instructions for x86 or ARM or 6086 architectures; the same C code can be compiled for an Intel laptop CPU and an ARM smartphone CPU and each will have different assembly instruction sets. </p> <p>The ability to map code to assembly and machine code, makes for a more predictable behavior in safety critical applications. If you are designing a control system for a space rocket, you can’t tolerate any uncertainty in the code behavior &#40;you should not be using a scripting language here for example&#41;, the programmer for such a system would work very hard to test the code assuming predictable set of outputs. </p> <h2 id=need_for_speed ><a href="#need_for_speed" class=header-anchor >Need for speed</a></h2> <p>C/C&#43;&#43; are not only used in safety critical systems. They are widely used in gaming, servers and the low-level or device level of operating systems. Basically in any application that can benefit from faster &#40;more efficient&#41; code execution. </p> <p>In the last decade, new compiled programming languages have become accepted and used in high profile applications that tend to compete with C/C&#43;&#43;, such as <a href="https://golang.org/">GO</a> &#40;developed by Google&#41;, <a href="https://www.rust-lang.org/">Rust</a> &#40;supported by Mozilla&#41; and <a href="https://developer.apple.com/swift/">Swift</a> &#40;developed by Apple&#41;. </p> <p>There is still a long way to go before any of those languages beat C/C&#43;&#43;. No one can predict the future, there are many factors and magic market-forces to consider. But it is safe to say that C and C&#43;&#43;, are here to stay. </p> <h1 id=c_vs_c ><a href="#c_vs_c" class=header-anchor >C vs C&#43;&#43;</a></h1> <p>Let’s have a look at the differences between C and C&#43;&#43;. To many users of the languages C&#43;&#43; seems to be C with classes. This is true on the surface, and is true for much of basic usages. When it comes to professional use they grow apart in many ways. For <strong>beginners</strong> in embedded programming, it is safe to state that C&#43;&#43; is C with classes, but don&#39;t hold this concept for too long afterwards. </p> <h2 id=c_still_dominates_in_the_micro-controller_world_but_things_are_changing ><a href="#c_still_dominates_in_the_micro-controller_world_but_things_are_changing" class=header-anchor >C still dominates in the micro-controller world, but things are changing</a></h2> <p>Note that C is still the predominant language used in microcontroller programming. It is the language currently supported by chip manufacturers. In order to use C&#43;&#43; in microcontrollers, third-party frameworks or in-house setup is required. This might change soon and chip makers might support C&#43;&#43; out of the box. And this would be a strong driving factor in the adoption of a language as you can imagine.</p> <p>Much of the examples in this course, will be given in C&#43;&#43;. Also note / that in the embedded world, not all the functionalities of C&#43;&#43; are wise to use, specifically on lower-end microcontrollers. Due, primarily, to the overhead they carry. Such as templates for instance. They are more useful and suitable for larger scale computers, such as desktop or higher end embedded systems. </p> <h2 id=mixing_c_and_c ><a href="#mixing_c_and_c" class=header-anchor >Mixing C and C&#43;&#43;</a></h2> <p>It is also common to find projects that use both C and C&#43;&#43; in the same program. </p> <p>By standard convention, C source files have the <em>&#42;.c</em> extension and C headers have the <em>&#42;.h</em> extension. Source files for C&#43;&#43; have the <em>&#42;.cpp</em> extension, and <em>&#42;.hpp</em> for the headers. </p> <p>As mentioned, a program can have a mixture of C and C&#43;&#43; code. A project may have most of the code base written in C and some specific apps written in C&#43;&#43;, and the opposite can occur. Reasons for the mixture can vary. It could be that C&#43;&#43; objects are needed to make a better code architecture for an app working within a C code base. Or it could be that an existing robust C code is ported over to a C&#43;&#43; project.</p> <h2 id=mixing_in_assembly ><a href="#mixing_in_assembly" class=header-anchor >Mixing in Assembly</a></h2> <p>Moreover, it is also possible to implement Assembly Language within a C/C&#43;&#43; project, in a straightforward manner actually. Perhaps a small piece of code is optimized in assembly and needs to be run very fast. But sleep tight and know that C/C&#43;&#43; compilers, when setup to optimize the code, can actually produce a very efficient and optimized set of assembly code. Arguably better than what an average assembly programmer can achieve. </p> <p>Next: <a href="../lesson2/">File and Program Structure</a> </p> <div class=page-foot > <div class=copyright > &copy; Ali AlSaibie, PhD. Last modified: April 01, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div>