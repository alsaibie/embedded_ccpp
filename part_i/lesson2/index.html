<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/embedded_ccpp/libs/highlight/github.min.css"> <link rel=stylesheet  href="/embedded_ccpp/css/franklin.css"> <link rel=stylesheet  href="/embedded_ccpp/css/poole_hyde.css"> <link rel=stylesheet  href="/embedded_ccpp/css/custom.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 968px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/embedded_ccpp/assets/c.svg"> <title>I Fundamentals - File and Program Structure</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <br> <img src="/embedded_ccpp/assets/KuwaitUniversityLogoTextLight.svg" style="width: 200px; height: auto; display: inline"> <h1 style="font-size:2em; opacity: 0.75;"><a href="/embedded_ccpp/">C/C++</a></h1> <p class=lead >Introduction to Embedded C/C++</p> </div> <script> function hidePart(part_div) { var x = document.getElementById(part_div); if (x.style.display === "none") { x.style.display = "block"; } else { x.style.display = "none"; } } </script> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/embedded_ccpp/">Home</a> <a class="sidebar-nav-item " href="https://alsaibie.github.io/me319">ME319 Mechatronics Course</a> <br> <small style="text-transform: uppercase; font-size: 0.75em">Lessons</small> <div class=part  onclick="hidePart('part1_div')">Fundamentals</div> <div id=part1_div  style="display:none;"> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/introduction/"><b>L0</b> <em>Introduction</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson1/"><b>L1</b> <em>C and C++</em></a> <a class="sidebar-nav-item active" href="/embedded_ccpp/part_i/lesson2/"><b>L2</b> <em>File and Program Structure</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson3/"><b>L3</b> <em>Data Types</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson4/"><b>L4</b> <em>Variables</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson5/"><b>L5</b> <em>Arrays</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson6/"><b>L6</b> <em>Type Qualifiers and Storage Specifiers</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson7/"><b>L7</b> <em>Operations</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson8/"><b>L8</b> <em>Control Structures</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson9/"><b>L9</b> <em>Functions</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson10/"><b>L10</b> <em>Pointers and References</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson11/"><b>L11</b> <em>Structs</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson12/"><b>L12</b> <em>Classes</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson13/"><b>L13</b> <em>Strings</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson14/"><b>L14</b> <em>Preprocessor Directives</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson15/"><b>L15</b> <em>Standard Library</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson16/"><b>L16</b> <em>C/C++ Process Flow</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/part_i/lesson17/"><b>L17</b> <em>Debugging</em></a> </div> <!-- <div class=part  onclick="hidePart('part2_div')">Embedded Applications</div> <div id=part2_div  style="display:none;"> <a class="sidebar-nav-item {{ispage /part_ii/lesson1/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson1/"><b>L1</b> <em>Event-Drive Programming</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson2/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson2/"><b>L2</b> <em>Threads</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson3/"><b>L3</b> <em>Interrupts</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson3/"><b>L4</b> <em>Scheduling</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson3/"><b>L5</b> <em>Real-Time Control</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson3/"><b>L6</b> <em>Filters and Digital Controllers</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson3/"><b>L7</b> <em>Object-Oriented Device Libraries</em></a> <a class="sidebar-nav-item {{ispage /part_ii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_ii/lesson3/"><b>L8</b> <em>State-Machine</em></a> </div> <div class=part  onclick="hidePart('part3_div')">Code Optimization</div> <div id=part3_div  style="display:none;"> <a class="sidebar-nav-item {{ispage /part_iii/lesson1/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson1/"><b>L1</b> <em>Variable Sizes</em></a> <a class="sidebar-nav-item {{ispage /part_iii/lesson2/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson2/"><b>L2</b> <em>Probabilistic Priority</em></a> <a class="sidebar-nav-item {{ispage /part_iii/lesson3/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson3/"><b>L3</b> <em>Jumps and Branches</em></a> <a class="sidebar-nav-item {{ispage /part_iii/lesson4/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson4/"><b>L4</b> <em>Loop Jamming</em></a> <a class="sidebar-nav-item {{ispage /part_iii/lesson4/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson4/"><b>L5</b> <em>Integer vs. Floating Point Math</em></a> <a class="sidebar-nav-item {{ispage /part_iii/lesson4/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson4/"><b>L6</b> <em>Pass by Reference</em></a> <a class="sidebar-nav-item {{ispage /part_iii/lesson4/}}active{{end}}" href="/embedded_ccpp/part_iii/lesson4/"><b>L7</b> <em>Reduce Expensive Math</em></a> </div> --> <!-- <div class=part  onclick="hidePart('part4_div')">Arduino API</div> <div id=part4_div  style="display:none;"> <a class="sidebar-nav-item {{ispage /part_iv/lesson1/}}active{{end}}" href="/embedded_ccpp/part_iv/lesson1/"><b>L1</b> <em>Overview</em></a> <a class="sidebar-nav-item {{ispage /part_iv/lesson2/}}active{{end}}" href="/embedded_ccpp/part_iv/lesson2/"><b>L2</b> <em>Program Structure</em></a> <a class="sidebar-nav-item {{ispage /part_iv/lesson3/}}active{{end}}" href="/embedded_ccpp/part_iv/lesson3/"><b>L3</b> <em>Blinky Example</em></a> <a class="sidebar-nav-item {{ispage /part_iv/lesson4/}}active{{end}}" href="/embedded_ccpp/part_iv/lesson4/"><b>L4</b> <em>Input Output Example</em></a> <a class="sidebar-nav-item {{ispage /part_iv/lesson5/}}active{{end}}" href="/embedded_ccpp/part_iv/lesson5/"><b>L5</b> <em>Arduino Library</em></a> <a class="sidebar-nav-item {{ispage /part_iv/lesson6/}}active{{end}}" href="/embedded_ccpp/part_iv/lesson6/"><b>L6</b> <em>Custom Library</em></a> </div> --> <small style="text-transform: uppercase; font-size: 0.75em">Tutorials</small> <div class=part  onclick="hidePart('vscode_setup_div')">IDE Setup</div> <div id=vscode_setup_div  style="display:none;"> <a class="sidebar-nav-item " href="/embedded_ccpp/ide_setups/introduction/"> <em>Introduction</em></a> <a class="sidebar-nav-item " href="/embedded_ccpp/ide_setups/pio_for_host/"> <em>Compiling C/C++ for Host</em></a> </div> </nav> <p>&copy; Ali AlSaibie, PhD.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=program_structure ><a href="#program_structure" class=header-anchor >Program Structure</a></h1> <center><iframe title=vimeo-player  src="https://player.vimeo.com/video/386449901" width=640  height=370  frameborder=0  allowfullscreen></iframe></center> <br> <p>Here is an example C&#43;&#43; code and its algorithmically equivalent code in MATLAB. The first thing to note is the data type identifiers before the variables. In C/C&#43;&#43;, variables must be declared. Their type and size must be specified. While in MATLAB a variable is an object by default. <pre><code class="cpp hljs"><span class=hljs-meta >#<span class=hljs-meta-keyword >include</span> <span class=hljs-meta-string >&lt;iostream&gt;</span> </span>

<span class=hljs-function ><span class=hljs-keyword >int</span> <span class=hljs-title >main</span><span class=hljs-params >(<span class=hljs-keyword >int</span> argc, <span class=hljs-keyword >char</span>* argv[])</span> </span>{ <span class=hljs-comment >/* The main function is the starting point of any C++ program */</span>
    <span class=hljs-keyword >int</span> a = <span class=hljs-number >120</span>; <span class=hljs-comment >/* Variables must be declared, their type must be specificied */</span>
    <span class=hljs-keyword >int</span> b = <span class=hljs-number >250</span>;
    <span class=hljs-keyword >int</span> c = a + b;
    <span class=hljs-comment >/*In C++ std::cout is a way to print content to the output terminal */</span>
    std::cout &lt;&lt; <span class=hljs-string >&quot;The sum of &quot;</span> &lt;&lt; a &lt;&lt;<span class=hljs-string >&quot; and &quot;</span> &lt;&lt; b &lt;&lt; <span class=hljs-string >&quot; is equal to &quot;</span>&lt;&lt; c &lt;&lt; std::endl;
    
    <span class=hljs-keyword >return</span> <span class=hljs-number >0</span>; <span class=hljs-comment >/* main is a function that returns a variable */</span>
}</code></pre> Output: <pre><code class="plaintext hljs">The sum of 120 and 250 is equal to 370
</code></pre></p> <p>Similar MATLAB Program Structure</p> <pre><code class="matlab hljs">a = <span class=hljs-number >120</span>;
b = <span class=hljs-number >350</span>;
c = a + b;
<span class=hljs-built_in >disp</span>(<span class=hljs-string >&quot;The sum of &quot;</span> + a + <span class=hljs-string >&quot; and &quot;</span> + b + <span class=hljs-string >&quot; is equal to &quot;</span> + c)</code></pre> <p>In MATLAB we use the semicolon to disable output to the terminal. While in C/C&#43;&#43; a semicolon is <strong>required</strong> to denote a line end. </p> <p>In C/C&#43;&#43;, there must be at least one function, called the <em>main&#40;&#41;</em> function. This is the function that gets called first when the program executes. Think of it as the first block in a board game. Since <em>main</em> is a function, it can take in variables and can return a variable as well. </p> <center><img src="/embedded_ccpp/assets/part_i/media/snakeboardgame.jpeg" style="max-width:450px"></center> <p><strong> <center>Snake Boardgame</center></strong></p> <p>To print out words and numbers on the terminal we use the <em>cout</em> stream operator, which is part of the standard library, and more specifically available as part of the &lt;iostream&gt; header. To denote a line end in C&#43;&#43; you can use the <em>endl</em> stream operator, or "\n" &#40;a new line character, more on that later&#41;</p> <p>Not including any headers, also referred to as libraries, we are left with the bare minimum C/C&#43;&#43; functionality. Which is very limited. If you are coming from MATLAB, you need to be aware of this difference. In MATLAB there are lot of built-in functions and preloaded libraries &#40;MATLAB takes time to load right?&#41; that don’t require explicit include. </p> <p>Even mathematical functions such as <em>trigs</em>, <em>power</em> and <em>square</em> are not available in bare C/C&#43;&#43;. But if you are coming from MATLAB, they exist out of the box. For math functions for instance, there is the &lt;cmath&gt; header file. </p> <h1 id=file_structure ><a href="#file_structure" class=header-anchor >File Structure</a></h1> <center><iframe title=vimeo-player  src="https://player.vimeo.com/video/386449917" width=640  height=370  frameborder=0  allowfullscreen></iframe></center> <br> <p>Let’s familiarize ourselves with the files associated with a C/C&#43;&#43; project. There is not a single way these files are organized in, but here is one common folder structure. </p> <p>Under the folder commonly abbreviated <strong>src</strong>, which stands for source, you will find, with no great surprise, source files. Those are the C&#43;&#43; *.cpp files or C *.c files. You can have a running C/C&#43;&#43; program just by using source files. </p> <center><img src="/embedded_ccpp/assets/part_i/media/CPP_FOLDER_STRUCTURE.svg" style="max-width:350px"></center> <p>Under the folder abbreviated <strong>inc</strong>, which stands for include, you will find the header files. And those are the files with the *.hpp or *.h extension, for C&#43;&#43; and C respectively. This is the project include folder, there may be other include folders pointing to external “libraries”. You can have as many include and source folders as you specify.</p> <p>Under the folder <strong>lib</strong>, which stands for library, you will find the library files. The files with *.a and *.so extensions. These are pre-compiled code. Perhaps they come from a third-party library or a different or old part of a big project. </p> <p>And then there is the <strong>bin</strong> folder, which stands for binary, this is where the final application or executable resides. You will probably come across many different folder structures for a C/C&#43;&#43; program, all that is important, is that the compiler knows where they are. You can place all relevant files in a single folder even &#40;messy, but still possible&#41;.</p> <p>As a beginner, you need to familiarize yourself with the <em>source</em> and <em>include</em> files and their locations. The executable files are generated by the compiler once you build your program, so it’s not something you need to worry about as a beginner.</p> <p><center><img src="/embedded_ccpp/assets/part_i/media/Picture_vscode_file_explorer.png" style="max-width:550px"></center> <strong> <center>File Explorer View</center></strong></p> <p>Next: <a href="../lesson3/">Data Types</a></p> <div class=page-foot > <div class=copyright > &copy; Ali AlSaibie, PhD. Last modified: April 06, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> <script src="/embedded_ccpp/libs/highlight/highlightjs-line-numbers.js"></script>